mixin mime(type)
	// type is one of: "icon","icontext","text"
	.mimetype()

mixin media(field_type, width, height, clickaction)


	div(flex class=field_type)

		if field_type == 'custom-image'
			- _src = 'http://placehold.it/'+ width + 'x' + height + '/0000cc/000000'
			- _clickaction = 'alert("' + clickaction+ '")'

			img(
				src=_src
				ng-src='asset.thumbnailUrl'
				alt='{{asset.title}}'
				onclick=_clickaction
			)

		else if field_type == 'thumbnail-image'
			img(
				src='http://placehold.it/80x80/0000cc/000000'
				ng-if='asset.thumbnailUrl'
				ng-src='asset.thumbnailUrl'
				alt='{{asset.title}}'
			)
		else if field_type == 'medium-image'
			img(
				src='http://placehold.it/240x240/0000cc/000000'
				alt='{{asset.title}}'
			)
		else if field_type == 'large-image'
			img(
				src='http://placehold.it/800x800/0000cc/000000'
				ng-src='asset.largeUrl'
				alt='{{asset.title}}'
			)
		else if field_type == 'video'
			+controls('video')
			video(
				autoplay='false'
				poster='{{asset.posterUrl}}'
			)
				src
		else if field_type == 'audio'
			+controls('audio')
			audio(
				autoplay='false'
			)
				src

mixin player(type)
	.media(style='width:100%;margin:0!important')
		.overlay(style='margin:5px -15px!important')
			.cursor.mediaControl.hidden(style='z-index:11;height:120px;border-left:1px solid #fff;width:1px;opacity:0;position:absolute;left:0px;text-shadow:0px 0px 2px #000')
				.fa.fa-map-marker.fa-2x.white(style="position:absolute;left:-9px;top:-20px;cursor:default")
			.overlayBar.mediaControl.hidden(style='height:120px;background:rgba(0,0,0,0.3);z-index:10;position:absolute;right:0px;max-width:100%;width:100%;border-left:3px solid red')
			.mask.mediaControl.progress.hidden(style='height:120px;background:rgba(200,0,0,0.8);z-index:9;position:absolute;right:0px;width:100%;')
			img.display.preview
		.btn-group.hidden.mediaControl(style='margin:5px 0 0 0')
			button.btn.btn-sm.italic.fa.fa-fw.fa-step-backward.back.mediaControl.black(data-action='back',style='text-align:center;width:35px;background:transparent!important')
			button.btn.btn-sm.italic.fa.fa-fw.fa-arrows-alt.fullscreen.mediaControl.black(data-action='fullscreen' data-target='' style='text-align:center;width:35px;background:transparent!important')
			button.btn.btn-sm.italic.fa.fa-fw.fa-play.play.mediaControl.black(data-action='play',style='text-align:center;width:35px;background:transparent!important')
			button.btn.btn-sm.italic.fa.timecode.black.disabled(style='background:transparent!important;font-family:Helvetica,sans') 00:00:00
				.fa.fa-spin.fa-fixed.fa-refresh
			button.btn.btn-sm.italic.fa.fa-volume-up.mediaControl.black.mute(style='width:70px;text-align:left;background:transparent!important;margin:-2px 0 0 0')
				span &nbsp;
				span#volumeLevel(style='font-family:Helvetica,sans;font-size:0.8em') 50%
			#volumeHolder.pull-right
				#controlVolume
					#volSlider
						#volCaret